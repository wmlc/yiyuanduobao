/*
 * 心愿单 - 商品心愿设置流程
 * Author	 	Cloud
 * CreateDate   2015-06-16
 * Copyright:	1997-2015 Netease Inc. All rights reserved.
 */

define("view/wishlist/WishSettingView",["require","pro","ui/SimpleHeader","ui/InputBar","ui/SelectBar","ui/WishesInput","common/Utils"],function(e){function i(e){var i=this;n.by(i.find(".m-simpleHeader-step2"),{oncancel:function(){i.fire("cancel")}}),i.doms.url.value=e.url,i.doms.step1.style.display="none",i.doms.step2.style.display="block",G.hasMobile||$("#mobileEntry").html('<a href="'+G.host+'/user/detail.do#mobile">完善手机号信息</a>，轻松跟踪心愿单状态！')}function t(e){var i=this;e=e||{},i.listen("afterrender",function(){n.by(i.find(".m-simpleHeader-step1"),{oncancel:function(){i.fire("cancel")}})}),i.listen("create",function(){i.fire("showsetting"),i.nickname=new s({classname:"nicknameInput",width:260,value:G.nickname,maxLength:20,placeholder:"默认一元夺宝昵称"}).render(i.doms.nickname),i.days=new r({classname:"nicknameInput",items:[{value:1,text:"1天"},{value:2,text:"2天"},{value:3,text:"3天"},{value:4,text:"4天"},{value:5,text:"5天"}]}).render(i.doms.days),i.days.setIndex(2),i.wishes=new a({type:"user",maxLength:50}).render(i.doms.wishes)}),i.listen("renderShare",function(e){i.model.set("url",e.url),i.renderShare(e)})}var o=e("pro"),n=e("ui/SimpleHeader"),s=e("ui/InputBar"),r=e("ui/SelectBar"),a=e("ui/WishesInput"),d=(e("common/Utils"),o.View.extend(t,{_template:['<div data-pro="step1" class="w-wishSetting w-wishSetting-step1">','<div class="m-simpleHeader m-simpleHeader-step1">','<a href="javascript:void(0);" data-pro="cancel" class="m-simpleHeader-cancel">取消</a>','<a href="javascript:void(0);" data-pro="ok" class="m-simpleHeader-ok">完成</a>',"<h1>设置心愿单</h1>","</div>",'<div class="g-wrap">','<div class="w-wishSetting-main">','<img class="pic" width="80" height="60" src="{{gpic}}" />','<div class="info">','<p class="txt-red f-breakword name">{{gname}}</p>','<p class="price">礼物价值：<span class="txt-red"><b>{{price}}</b>夺宝币</span></p>',"</div>",'<p class="txt-gray">重要提醒：如果未能在设置时间内完成凑单，则心愿单失败。已筹的资金将转为红包充值到您的一元夺宝帐号~</p>',"</div>",'<div class="w-wishSetting-form">','<div class="w-bar w-wishSetting-form-title"><b>您的昵称</b> <span class="txt-gray">（让朋友知道是你哦）</span></div>','<div data-pro="nickname"></div>','<div class="w-bar w-wishSetting-form-title"><b>筹集期限</b></div>','<div data-pro="days"></div>','<div class="w-bar w-wishSetting-form-title"><b>心愿寄语</b></div>','<div data-pro="wishes"></div>',"</div>","</div>","</div>",'<div data-pro="step2" class="w-wishSetting w-wishSetting-step2" style="display:none">','<div class="m-simpleHeader m-simpleHeader-step2">','<a href="javascript:void(0);" data-pro="cancel" class="m-simpleHeader-cancel"><i class="ico-back"></i></a>',"<h1>设置心愿单</h1>","</div>",'<div class="g-wrap">','<p class="title"><b>恭喜您成功开启心愿单！</b></p>','<div class="share">','<p class="intro">复制下面的链接发送给朋友，就可以让TA们来为您的心愿单礼物凑单了~</p>','<div class="w-input"><input data-pro="url" class="w-input-input" type="text" value="" style="width:280px;" /></div>','<p class="copyhint" data-pro="copyhint"></p>','<p class="txt-gray"><b>温馨提示：</b></p>','<p class="txt-gray">1. 如果您的浏览器不支持按钮复制功能，请自行复制文本框中的链接；</p>','<p class="txt-gray">2. 登录一元夺宝电脑版，可更方便地将心愿单发送给易信、微信上的朋友。</p>',"</div>",'<div class="link">','<a data-pro="viewWishList" class="w-button w-button-main w-button-l" href="'+G.host+'/user/wishlist.do">查看我的心愿单</a>','<p class="txt-gray" id="mobileEntry"></p>',"</div>","</div>","</div>"].join(""),_doms:{step1:"@step1",step2:"@step2",nickname:"@nickname",days:"@days",wishes:"@wishes",url:"@url",copyhint:"@copyhint",viewWishList:"@viewWishList"},_events:{"@ok":"submitWish"}},{renderShare:i}));return d}),define("action/WishSettingAction",["require","$","pro","action/BaseAction"],function(e){function i(e,i,t,o){this.ajax("check",{cid:e,gid:i},function(e){0==e.code?t&&t.call(this,e.result):o&&o(e.code)})}function t(e,i,t){this.ajax("submit",{gid:e.sGid,nickname:e.sNickname,days:e.nDays,wishes:e.sWishes,wishSourceId:e.wishSourceId},function(e){0==e.code?i&&i.call(this,e.result):t&&t.call(this,e.code)})}var o=(e("$"),e("pro"),e("action/BaseAction")),n=o.extend({_apis:{check:"/wish/check.do",submit:"post:/wish/create.do"}},{check:i,submit:t});return n}),define("controller/wishlist/WishSetting",["require","$","pro","controller/BaseController","view/wishlist/WishSettingView","action/WishSettingAction","common/Utils","ui/Msgbox"],function(e){function i(){var e=this;e.view;e.listen(e.view,"showsetting",function(){a(e.model.get("parentWrap")).hide()}),e.listen(e.view,"cancel",function(){h.show({text:"心愿单还未完成，确认离开？",onok:function(){a(e.model.get("parentWrap")).show(),e.view.destroy()},cancel:!0})}),e.listen(e.view,"submitWish",function(){e.submitWish()}),e.listen(e.view,"copyLink",function(){e.initClip()}),e.listen(e.action,"success:submit",function(i){e.fire("submitSuccess")})}function t(){var e=this,i=e.model,t=e.action,o=e.view;G.isLogin?i.get("setted")?h.show({text:'<p style="text-align:center">该商品已被设置为您的心愿单礼物，<br/>无需重复设置</p>',okText:"查看心愿单",onokclick:function(){window.location.href=G.host+"/user/wishlist.do"},cancel:!0,cancelText:"好的"}):t.check(G.cid,i.get("gid"),function(n){if(n.hasIng)h.show({text:'<p style="text-align:center">您有一个心愿正在进行中！<br/>结束了这个才能开启新的心愿单哦~</p>',okText:"查看心愿单",onokclick:function(){window.location.href=G.host+"/user/wishlist.do"},cancel:!0,cancelText:"好的"});else{var s=n.goods;i.set({gid:s.gid,gname:s.gname,price:s.price}),h.show({text:'<p style="text-align:center">您确认挑选该商品作为心愿单礼物吗？<br/>设置心愿单，让亲朋好友为您凑单~</p>',ok:!0,cancel:!0,onokclick:function(){o.renderTo(a(".g-body")[0]),i.get("bWishList")&&e.listen(t,"success:submit",function(){e.listen(o,"cancel",function(){window.location.reload()})})}})}},function(e){405==e?h.show({text:"抱歉，该商品暂不能设置为心愿单礼物，请重新挑选",okText:"好&nbsp;&nbsp;的"}):h.show({text:"设置失败，请稍后重试",ok:!0})}):window.YyJSBridge?YyJSBridge.invoke("login",{callback:function(){YyJSBridge.invoke("refresh")}}):h.show({title:"请先登录",ok:!0,onok:function(){if(c.isNews)window.location.href=c.NEWS_LOGIN_URL;else{var e=encodeURIComponent(window.location.href);window.location.href=G.host+"/login.do?url="+e}}})}function o(){var e=this,i=e.validateInfo();switch(i){case"nickname":return e.view.nickname.showTips("请填写昵称","err"),e.view.wishes.hideTips(),!1;case"wishes":return e.view.wishes.showTips("请填写心愿寄语","err"),e.view.nickname.hideTips(),!1}e.action.submit({sGid:e.model.get("gid"),sNickname:e.view.nickname.getValue(),nDays:e.view.days.getValue(),sWishes:e.view.wishes.getValue(),wishSourceId:e.model.get("wishSourceId")},function(i){e.view.fire("renderShare",i)},function(i){307===i?h.show({text:"<b>您有一个心愿正在进行中！结束了这个才能开启新的心愿单哦~</b>",okText:"查看我的心愿单",cancelText:"好的",onok:function(){window.location.href=G.host+"/user/wishlist.do"}}):302===i?(e.view.nickname.showTips("昵称输入过长~","err"),e.view.wishes.hideTips()):405===i?h.show({text:"抱歉，该商品暂不能设置为心愿单礼物，请重新挑选",okText:"好&nbsp;&nbsp;的"}):h.show({text:"对不起，服务器君开小差了，请稍后再试~",okText:"好&nbsp;&nbsp;的",onok:function(){e.view.fire("cancel")}})})}function n(){var e=this;return e.view.nickname.setValue(m.trim(e.view.nickname.getValue())),e.view.wishes.setValue(m.trim(e.view.wishes.getValue())),""==e.view.nickname.getValue()?"nickname":""==e.view.wishes.getValue()?"wishes":void 0}function s(){var e=this,i='<i class="icon icon-suc-s"></i> <span class="txt-green">复制成功</span>',t='<i class="icon icon-err-s"></i> <span class="txt-red">复制失败</span>',o=e.view.doms,n=a(o.copyhint),s=o.url;s.select();try{document.execCommand("copy")?n.html(i):n.html(t)}catch(r){n.html(t)}}function r(e){var i=this,t=i.constructor;e=e||{},i.action=e.action||new t.Action,i.model=new t.Model,i.model.set(e),i.view=new t.View({model:i.model,listeners:{}}),i.showSetting(),i.listenEvents()}var a=e("$"),d=e("pro"),c=e("controller/BaseController"),l=e("view/wishlist/WishSettingView"),u=e("action/WishSettingAction"),m=e("common/Utils"),h=e("ui/Msgbox"),p=d.Base.extend(r,{Action:u,View:l,Model:d.Model.extend({_data:{parentWrap:null,setted:0,gid:0,gname:"",gpic:"",price:0,url:"",bWishList:!1}})},{listenEvents:i,showSetting:t,submitWish:o,validateInfo:n,initClip:s});return p}),define("model/BuyRecordModel",["require","pro","common/Utils","model/UserModel"],function(e){var i=(e("pro"),e("common/Utils"),e("model/UserModel"));return i.extend({_data_extend:{rid:0,num:0,time:"",timeDay:"",device:0}})}),define("view/detail/BuyRecordListView",["require","pro","model/BuyRecordModel","ui/More"],function(e){function i(e){var i=this;i.winHeight=parseInt(document.documentElement.clientHeight)}var t=e("pro"),o=e("model/BuyRecordModel"),n=e("ui/More");return t.ListView.extend(i,{ItemView:t.View.extend(i,{Model:o,_template:["<li>",'{{#_seperate}}<div class="m-detail-record-time">{{timeDay}}</div>{{/_seperate}}','{{#_seperate}}<div class="f-clear">{{/_seperate}}','<div class="avatar"><a href="{{userpage}}">{{&avatar}}</a></div>','<div class="text">','<p class="f-breakword"><a href="{{userpage}}">{{nickname}}</a> <span class="address">({{IPAddress}} IP：{{IP}})</span></p>','<p><span class="num">参与了<span class="txt-red">{{num}}</span>人次</span> {{time}}</p>',"</div>","{{#_seperate}}</div>{{/_seperate}}"," </li>"].join("")}),EmptyView:t.View.extend({_template:'<p class="status-empty">暂时还没有参与记录</p>'}),_template:['<ul class="m-detail-record-list" data-pro="entry"></ul>','<div class="m-detail-record-more" data-pro="more"></div>'].join(""),_entry:"@entry",_doms:{more:"@more"}},{isLoading:!1,showMore:function(){var e=this;e.oMore&&e.oMore.destroy(),e.oMore=new n({onclick:function(){e.fire("moreclick")}}).join(e).render(e.doms.more),e.bindScroll()},hideMore:function(){var e=this;e.oMore&&e.oMore.destroy()},resetMore:function(){var e=this;e.oMore&&e.oMore.reset()},noMore:function(){var e=this;e.oMore&&e.oMore.disable()},bindScroll:function(){var e=this;$(window).on("scroll",function(){"none"!=e.oMore.doms.link.style.display&&e.scrollEvent()}),$(window).on("resize",function(){e.resizeEvent()})},scrollEvent:function(){var e=this,i=e.oMore.doms.link;if(i&&!e.isLoading){var t=i.getBoundingClientRect().top;e.winHeight-10>=t&&e.fire("showmore")}},resizeEvent:function(){var e=this;e.winHeight=parseInt(document.documentElement.clientHeight)}})}),define("controller/detail/Index",["require","$","pro","$.css3animate","controller/CommonController","controller/cart/MiniCart","controller/wishlist/WishSetting","model/BuyRecordModel","view/detail/BuyRecordListView","ui/SimpleHeader","common/Countdown","common/Utils","action/BaseAction","common/Location","ui/Msgbox","ui/SlideShow","common/SpecialSupport"],function(e){function i(){function e(e){e?(o.hide(),t.removeClass("open")):(o.show(),t.addClass("open"))}var i=f("#moreBtn"),t=f(".m-detail-menu"),o=f(".m-detail-menu-wrap");0!=i.length&&(i.bind("click",function(i){e(t.hasClass("open")?!0:!1),i.stopPropagation()}),f(".m-detail").bind("click",function(){t.hasClass("open")&&e(!0)}))}function t(){var e=f(".m-detail-show");E.from(e[0],{autoPlay:!1,hasBtn:!1}).start()}function o(e){var i=this;i._action.ajax("/goods/getTotalPeriod.do",{gid:DETAIL.goods.gid},function(i){i.code-0==0&&(DETAIL.totalPeriod=i.result.num,e&&e(i))})}function n(){var e=this;e._action=I.ajax("/record/getDuobaoRecord.do",{gid:DETAIL.goods.gid,period:DETAIL.period,pageSize:e._pageSize,pageNum:e._currPage,totalCnt:e._totalCnt},function(i){for(var t=i.result.list,o=[],n=t.length,s=0,r=0,a=n;a>r;r++){for(var d=t[r],c={},l=0,u=e._rids.length;u>l;l++)if(e._rids[l]==d.rid){d=null;break}d&&(e._rids.push(d.rid),o.push(d),c=o[s],s++,v.mix(c,c.user),c.avatarSize=35,c.timeDay=c.time.split(" ")[0],""==e._recordDay?e._recordDay=c.timeDay:e._newRecordDay=c.timeDay,e._recordDay!=e._newRecordDay?c._seperate=!0:c._seperate=!1,e._recordDay=e._newRecordDay=c.timeDay,delete c.user)}if(e.buyRecordListView){var m=new v.List(o,k);m.each(function(i){e.buyRecordListView.insert(i)}),i.result.pageNum==Math.ceil(i.result.totalCnt/i.result.pageSize)?e.buyRecordListView.noMore():e.buyRecordListView.resetMore(),e.buyRecordListView.isLoading=!1}else e.renderRecordList(i);e._currPage++,e._totalCnt=i.result.totalCnt})}function s(e){var i=this,t=f(".m-detail-record-wrap");t.find(".w-loading").hide(),i.recordList=new v.List(e.result.list,k),i.buyRecordListView=new x({list:i.recordList}).join(this).render(t[0]),i.listen(i.buyRecordListView,"showmore",function(){i.buyRecordListView.isLoading=!0,i.getAllRecords()}),e.result.pageNum<Math.ceil(e.result.totalCnt/e.result.pageSize)?i.buyRecordListView.showMore():i.buyRecordListView.noMore()}function r(){var e=this,i=f(".m-detail-menu-list .miniCart");0==i.length?(e.miniCart=new b,e.miniCart.view.hide()):(e.miniCart=new b({color:"gray",renderTo:f(".m-detail-menu-list .miniCart")[0]}),e.listen(e.miniCart,"change",function(e){e>0?f("#moreBtn .ico-dot").show():f("#moreBtn .ico-dot").hide()}))}function a(){var e=this,i=e.miniCart,t=f("#quickBuy"),o=f("#addToCart"),n=1;if(1==DETAIL.goods.priceType){DETAIL.goods.price>3500&&DETAIL.goods.price<5e3?n=5:DETAIL.goods.price>=5e3&&(n=10),DETAIL.goods.buyUnit>1&&(n=DETAIL.goods.buyUnit);var s={gid:DETAIL.goods.gid,period:DETAIL.period};t.attr("href",t.attr("href")+n),o.bind("click",function(){i.add(s.gid,s.period,n,e.flyToCart)})}}function d(){var e=f(".m-detail-show li"),i=null,t=(f(".w-miniCart"),f("#moreBtn"));if(0==t.length)return void A.show({title:"已成功添加至清单！",okText:"查看清单",onokclick:function(){window.location.href=G.host+"/cart/index.do"},cancelText:"再逛一逛"});e.each(function(){f(this).hasClass("selected")&&(i=f(this))});var o=i.find("img"),n=f('<img width="'+o.offset().width+'" src="'+o.attr("src")+'" />');n.css({position:"absolute",top:o.offset().top,left:o.offset().left,"z-index":3}),f("body").append(n);var s=500;n.css3Animate({x:t.offset().left-n.offset().left+t.offset().width/2+"px",y:t.offset().top-n.offset().top+t.offset().height/2+"px",scale:.1,opacity:.6,time:s,success:function(){n.remove()}})}function c(){var e=this,i=f(".m-detail-goods-countdown .w-countdown"),t=i.find(".w-countdown-nums"),o=i.find(".w-countdown-waiting"),n=i.attr("time")-0,s=1e3,r=null;if(0!=i.length){s>n&&(n=s);new S({now:G.serverTime,expires:n,listeners:{run:function(e){r={h:e.h,m:e.m,s:e.s},t.html(r.h+":"+r.m+":"+r.s)},finish:function(){r=null,t.hide(),o.css("display","inline"),e.getWinner(1e3)}}}).start()}}function l(){var e,i=f(".m-detail-limitCountdown .w-countdown"),t=i.attr("time")-0,o=["<b>{{h}}</b> 时 ","<b>{{m}}</b> 分 ","<b>{{s}}</b> 秒"].join("");new S({now:G.serverTime,expires:t,listeners:{run:function(t){e={h:t.h,m:t.m,s:t.s},i.find(".w-countdown-nums").html(v.template(o,e))},finish:function(){window.location.href=C.getGoodsUrl(DETAIL.goods.gid,DETAIL.period,!0)}}}).start()}function u(e){I.ajax("/goods/getWinner.do",{gid:DETAIL.goods.gid,period:DETAIL.period},function(e){e.code-0==0&&e.result.luckyCode&&""!=e.result.luckyCode?window.location.href=C.getGoodsUrl(DETAIL.goods.gid,DETAIL.period,!0)+"?refer=counting":f(".m-detail-goods-countdown").html('<span class="w-countdown-waiting">抱歉，服务器开小差了...请刷新页面重试</span>')})}function m(){function e(){var e=f(".m-detail-userCodes-viewCodesBtn");e&&e.bind("click",function(){i.showAllCodes("你",DETAIL.codes)})}var i=this,t=['<p class="m-detail-userCodes-blank"><a href="'+G.host+'/login.do"><b>请登录</b></a>，查看你的夺宝号码！</p>','<p>您参与了：<span class="txt-red">{{userCost}}</span>人次</p><p class="codes">夺宝号码：{{&codeList}}{{#showMore}}<a class="m-detail-userCodes-viewCodesBtn" href="javascript:void(0)">查看全部</a>{{/showMore}}</p>','<p class="m-detail-userCodes-blank">您没有参与本次夺宝哦！</p>'];if(3==DETAIL.status||0==DETAIL.status){var o=f(".m-detail-userCodes-viewWinnerCodesBtn");o&&o.bind("click",function(){i.showAllCodes("商品获得者",DETAIL.ownerAllCode)}),1==G.isLogin?i.getUserCodes(function(){var i=DETAIL.codes,o=DETAIL.codes.length;if(o>0){for(var n="",s=0,r=0,a={},d=0,c=o;c>d;d++)6>r&&(s=i[d],n+="<b"+(s==DETAIL.luckyCode?' class="txt-red"':"")+">"+s+"</b>"),r++;a.userCost=r,a.codeList=n,a.showMore=r>7?!0:!1,f(".m-detail-userCodes").html(v.template(t[1],a)),e()}else f(".m-detail-userCodes").html(t[2])}):f(".m-detail-userCodes").html(t[0])}else e()}function h(e,i){for(var t="",o="",n=0,s=0,r=0,a=i.length;a>r;r++)n=i[r],t+="<li"+(n==DETAIL.luckyCode?' class="txt-red"':"")+">"+n+"</li>",s++;o=['<div class="w-msgbox-codes">','<div class="name">','<h3 class="f-txtabb">'+DETAIL.goods.gname+'</h3><span><b class="txt-red">'+s+"</b>人次</span>","</div>","<p>以下是"+e+"的所有夺宝号码：</p>","<ul>"+t+"</ul>","</div>"].join(""),A.show({text:o,ok:!1,close:!0})}function p(e){I.ajax("/code/get.do",{gid:DETAIL.goods.gid,period:DETAIL.period,cid:G.cid},function(i){i.code-0==0&&(DETAIL.codes=i.result.list,e&&e())})}function w(){if(DETAIL.goods.wishSetable){var e=f(".w-wishSetEntry");e.bind("click",function(){var e=f(this);e.wishSetting=new L({parentWrap:f(".m-detail")[0],setted:DETAIL.wishSetted-0,gid:DETAIL.goods.gid||0,gname:DETAIL.goods.gname,gpic:C.getGoodsImg(DETAIL.goods.gpic,"m"),price:DETAIL.goods.price||0,wishSourceId:D.getParam("wishSourceId")}),e.wishSetting.listen("submitSuccess",function(){e.find(".ico-wishHeart").addClass("ico-wishHeart-solid"),DETAIL.wishSetted=1})});var i=D.getParam("action");i&&"setwish"==i&&e.trigger("click")}}function g(){var e=this,i=D.getParam("refer");f("#dvHeader").length>0&&T.by(v.$("dvHeader"),{back:!0,onback:function(){return"counting"==i?(e.go("home"),!1):void 0},context:e}),e._action=new I,e.initMenu(),e.initSlide(),3==DETAIL.status||0==DETAIL.status?(e.getGlobal(function(){e.renderMinicart(),e.initCodesShow(),e.initWishSetting()}),e.getTotalPeriod(function(e){3!=e.result.status&&2!=e.result.status&&(f(".m-detail-go").show(),f(".m-detail-go-period").html("最新一期"),f(".m-detail-go-link").attr("href",C.getGoodsUrl(DETAIL.goods.gid)))})):(e.renderMinicart(),e.initCodesShow(),e.initWishSetting()),1==DETAIL.status?(G.isLogin&&e.getNewestReward(),e.renderBuy()):2==DETAIL.status&&e.renderCountdown(),DETAIL.limitTime>0&&e.limitCountdown(),0==f(".m-detail-record .status-empty").length&&e.getAllRecords(),e.initBackToTop({bottom:"55px"}),e.setCookie();try{window.appDetail.period(DETAIL.period,DETAIL.totalPeriod)}catch(t){}e.callSpecial("detail",function(e){e.init&&e.init()})}var f=e("$"),v=e("pro");e("$.css3animate");var y=e("controller/CommonController"),b=e("controller/cart/MiniCart"),L=e("controller/wishlist/WishSetting"),k=e("model/BuyRecordModel"),x=e("view/detail/BuyRecordListView"),T=e("ui/SimpleHeader"),S=e("common/Countdown"),C=e("common/Utils"),I=e("action/BaseAction"),D=e("common/Location"),A=e("ui/Msgbox"),E=e("ui/SlideShow"),M=e("common/SpecialSupport"),_=y.extend(g,{},{initMenu:i,initSlide:t,getTotalPeriod:o,getAllRecords:n,renderRecordList:s,renderMinicart:r,renderBuy:a,flyToCart:d,renderCountdown:c,limitCountdown:l,getWinner:u,initCodesShow:m,showAllCodes:h,getUserCodes:p,initWishSetting:w,_action:null,_recordDay:"",_recordNewDay:"",_rids:[],_currPage:1,_pageSize:10,_totalCnt:0}).implement(M);return _}),define("hd/common/Detail",["require","pro","hd/common/Base"],function(e){function i(){}var t=(e("pro"),e("hd/common/Base"));return t.extend(null,{init:i})});